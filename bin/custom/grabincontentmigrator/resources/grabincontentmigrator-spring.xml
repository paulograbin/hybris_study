<?xml version="1.0" encoding="UTF-8"?>
<!--
 Copyright (c) 2020 SAP SE or an SAP affiliate company. All rights reserved
-->
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:aop="http://www.springframework.org/schema/aop"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
           http://www.springframework.org/schema/beans/spring-beans.xsd
           http://www.springframework.org/schema/aop
           http://www.springframework.org/schema/aop/spring-aop.xsd">

	<alias name="defaultImpexHeaderGenerationService" alias="impexHeaderGenerationService"/>
	<bean id="defaultImpexHeaderGenerationService" class="com.paulograbin.contentmigrator.impex.DefaultImpexHeaderGenerationService"/>

	<bean id="contentDumpImpexGenerator" class="com.paulograbin.contentmigrator.impex.impl.ContentDumpImpexGenerator" />
	<bean id="productDumpImpexGenerator" class="com.paulograbin.contentmigrator.impex.impl.ProductDumpImpexGenerator" />

	<bean id="abstractImpexGenerator" class="com.paulograbin.contentmigrator.impex.AbstractImpexGenerator" abstract="true" >
		<property name="impexHeaderGenerationService" ref="impexHeaderGenerationService" />
	</bean>

	<bean id="contentPageImpexGenerator" parent="abstractImpexGenerator" class="com.paulograbin.contentmigrator.impex.ContentPageImpexGenerator" />
	<bean id="categoryImpexGenerator" parent="abstractImpexGenerator" class="com.paulograbin.contentmigrator.impex.CategoryImpexGenerator" />
	<bean id="productImpexGenerator" parent="abstractImpexGenerator" class="com.paulograbin.contentmigrator.impex.ProductImpexGenerator" />

	<alias name="defaultImpexSpitterFactory" alias="impexSpitterFactory"/>
	<bean id="defaultImpexSpitterFactory" class="com.paulograbin.contentmigrator.impex.DefaultImpexSpitterFactory">
		<property name="exportService" ref="exportService" />
		<property name="dumpExportStrategiesMap">
			<map key-type="com.paulograbin.contentmigrator.enums.DataDumpExportType" value-type="com.paulograbin.contentmigrator.impex.DumpImpexGenerator">
				<entry key="PRODUCT" value-ref="productDumpImpexGenerator"/>
				<entry key="CONTENT" value-ref="contentDumpImpexGenerator"/>
			</map>
		</property>
		<property name="exportStrategiesMap">
			<map key-type="java.lang.String" value-type="com.paulograbin.contentmigrator.impex.ImpexGenerator">
				<entry key="ContentPage" value-ref="contentPageImpexGenerator"/>
				<entry key="Category" value-ref="categoryImpexGenerator"/>
				<entry key="Product" value-ref="productImpexGenerator"/>
			</map>
		</property>
	</bean>

	<alias name="defaultHardCodedHeaderService" alias="hardCodedHeaderService" />
	<bean id="defaultHardCodedHeaderService" class="com.paulograbin.contentmigrator.service.impl.DefaultHardCodedHeaderService" />

</beans>
